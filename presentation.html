<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>UltraTrace: A free/open-source cross-platform tool for manual annotation of ultrasound tongue imaging data</title>

		<meta name="description" content="UltraTrace: A free/open-source cross-platform tool for manual annotation of ultrasound tongue imaging data">	
		<meta name="author" content="Kevin Murphy and Nathaniel Ziv Stern and Daniel Swanson and Caleb Ho and Jonathan Washington">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- , maximum-scale=1.0, user-scalable=no" -->

		<link rel="stylesheet" href="./reveal.js/dist/reset.css">
		<link rel="stylesheet" href="./reveal.js/dist/reveal.css">
		<link rel="stylesheet" href="./reveal.js/dist/theme/league.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="./reveal.js/plugin/highlight/monokai.css" id="highlight-theme">
		<!-- link rel="stylesheet" href="./reveal.js/lib/css/zenburn.css" -->

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? './reveal.js/css/print/pdf.scss' : './reveal.js/css/print/paper.scss';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

		<link rel="stylesheet" href="jnw-overrides.css">
	</head>

	<body>

		<div class="reveal">
			<div class="slides">

				<section id="title" data-state="no-toc-progress">
					<style>.header1 header:after { content: "Header 1 Example"; }</style>
					<h1><div style="margin-bottom: 0.5em !important ;">UltraTrace: A free/open-source cross-platform tool for manual annotation of ultrasound tongue imaging data</div></h1>
					<div style="padding-top:0.1in; padding-bottom: 0.3in;">
						<!-- h3 -->
						<!-- div style="width: 100%;">
							<div style="width: 19%; float: left; font-size: 65%">
								<img style="width: 6em; height: 6em;" src="img/pic_JNW.jpg"/><br />
								Kevin Murphy¹
							</div -->
						<!-- /h3-->
							<!-- div style="width: 19%; float: left; font-size: 65%">
								<img style="width: 6em; height: 6em;" src="img/pic_DMT.jpg"/><br />
								<u>Nathaniel Ziv Stern</u>¹
							</div>
							<div style="width: 19%; float: left; font-size: 65%">
								<img style="width: 6em; height: 6em;" src="img/pic_AB.jpg"/><br />
								<u>Daniel Swanson</u>²
							</div>
							<div style="width: 19%; float: left; font-size: 65%">
								<img style="width: 6em; height: 6em;" src="img/pic_ZT.jpg"/><br />
								Caleb Ho¹
							</div>
							<div style="width: 19%; float: left; font-size: 65%">
								<img style="width: 6em; height: 6em;" src="img/pic_MZ.jpg"/><br />
								<u>Jonathan Washington</u>²
							</div>
						</div -->
						<div style="width: 100%; margin-bottom: 1em;">
							Kevin Murphy,¹
							<u>Nathaniel Ziv Stern</u>,¹
							<u>Daniel Swanson</u>,²
							Caleb Ho,¹
							<u>Jonathan Washington</u>²
						</div>
						<div style="clear: both;"></div>
						<ol class="shrink">
							<li>Independent Researcher (USA)</li>
							<li>Swarthmore College (USA)</li>
							<!-- li><span class="cyrillic"></span></li -->
						</ol>
					</div>
					<div style="width: 100%; background: white; margin-top: 1em;">
						<img class="noframe" src="img/swarthmorelogowhite.svg" style="height: 4em;"/>
					</div>
				</section>


				<section>
					<h2>Overview</h2>
					<div class="float-left">
					<div class="box">
						<p class="bbb">Our talk in a nutshell</p>
						<p>We made a new tool<br/>for manually <span class="highlight">annotating UltraSound data</span><br/><br />that works on multiple <span class="highlight">desktop platforms</span><br /><br/>and is released <br />to the public under a <span class="highlight">free/open-source</span> license.</p>
					</div>
					</div>
					<div class="float-right"><!--  style="margin-top: 1em;" --> <!-- #padding-top: 10pt     | to make the top vertically align with the other box -->
					<div class="box">
					<p class="bbb">The next ~18 minutes:</p>
					<ul>
						<li><span class="highlight">Background</span></li>
						<li><span class="highlight">Main features</span></li>
						<ul class="shrink">
							<li>Freedoms</li>
							<li>Platform support</li>
							<li>Format support</li>
							<li>User features</li>
						</ul>
						<li><span class="highlight">Future work</span></li>
						<li><span class="highlight">Discussion</span></li>
					</ul>
					</div>
					</div>
				</section>

				<section>
					<h2>Background</h2>
					<ul>
						<li><span class="highlight">2014</span>: very simple UI by Jonathan Washington for dissertation work</li>
						<li><span class="highlight">2015</span>: redesign to make it easier to work on</li>
						<li><span class="highlight">2016</span>: added features</li>
						<li><span class="highlight">2018</span>: redesign by Kevin Murphy</li>
						<li><span class="highlight">2018-2019</span>: intense development by Ziv Stern</li>
						<li><span class="highlight">2019-2020</span>: intense development by Daniel Swanson<br />&amp; beginning of UI redesign by Caleb Ho and Kevin Murphy</li>
					</ul>
				</section>
				
				<section>
					<h2>Freedoms</h2>
					<div class="box">
					<ul class="nobullet">
						<li class="bbb">UltraTrace is:</li>
						<ul>
							<li>released as <span class="highlight">Free/Open Source Software</span> (FOSS)</li>
							<li>licensed under the <span class="highlight">General Public License</span> (GPL) v3</li>
							<li>written entirely in <span class="highlight">Python</span>, entirely FOSS libraries</li>
						</ul>
					</ul>
					</div>
					<!-- p>Comparison:</p -->
					<table class="shrink">
						<tbody>
							<th><td>UltraTrace</td><td>GetContours</td><td>WASL</td><td>Palatoglossotron</td><td>AAA</td></th>
							<tr><td>Freely available</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td></tr>
							<tr><td>Source code available</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td></tr>
							<tr><td>Free license</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td></tr>
							<tr><td>Free dependencies</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-green">✔</span></td><td>—</td></tr>
						</tbody>
					</table>
				</section>

				<section>
					<h2>Why FOSS</h2>
					<div class="float-left" style="margin-bottom: 1em;">
						<ul style="list-style: none !important;">
							<li class="bbb" style="margin-left: -1em !important;">GPLv3 grants the freedom to …</li>
							<ul>
								<li><span class="highlight">run</span> the software</li>
								<li><span class="highlight">study</span> the software</li>
								<li><span class="highlight">share</span> the software</li>
								<li><span class="highlight">modify</span> the software</li>
								<li>(even <span class="highlight">sell</span> the software)</li>
							</ul>
							<li class="bbb" style="margin-left: -1em !important;">… as long as you …</li>
							<ul>
								<li>name © holders</li>
								<li>state any changes</li>
								<li>keep the source open</li>
								<li>keep same/similar license</li>
							</ul>
						</ul>
					</div>
					<div class="float-right">
					  <p class="bbb">This encourages:</p>
  					<ul>
  					  <li><span class="highlight">sharing</span> of data, formats, algorithms, etc.</li>
  					  <li><span class="highlight">continuity</span> between possibly temporally distant projects</li>
  					  <li><span class="highlight">fewer conflicting standards</span> (e.g. file formats)</li>
  					  <li><span class="highlight">collaboration</span> between people doing different things</li>
  					  <li><span class="highlight">optimal usage of limited resources</span></li>
  					</ul>
  			  </div>
			  <div style="clear: both;"/>
				<div class="box">
					<u>F</u>ree dependencies also an issue of <span class="highlight">social justice</span>:<br/>e.g., no access to MATLAB does not inhibit use.
				</div>
				</section>


			<section>
				<h2>Native Platform support</h2>
				<table class="shrink">
					<tbody>
						<th><td>UltraTrace</td><td>GetContours</td><td>WASL</td><td>Palatoglossotron</td><td>AAA</td></th>
						<tr><td>Windows</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td></tr>
						<tr><td>macOS</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span>?</td><td><span class="highlight-red">✘</span></td></tr>
						<tr><td>GNU/Linux</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span>?</td><td><span class="highlight-red">✘</span></td></tr>
					</tbody>
				</table>
				<div style="width: 120%; position: absolute; left: -10%;">
				<img style="width: 32%;" src="img/platforms Windows.png"/>
				<img style="width: 33%; overflow: hidden; margin-bottom: -0.1em;" src="img/platforms macOS.png"/>
				<img style="width: 32%;" src="img/platforms Linux.png"/>
				</div>
			</section>

			<section>
				<h2>Format support</h2>
				<table class="shrink">
					<tbody>
						<th><td>UltraTrace</td><td>GetContours</td><td>WASL</td><td>Palatoglossotron</td><td>AAA</td></th>
						<tr><td>DICOM images</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td></tr>
						<tr><td>native Philips</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td></tr>
						<tr><td>AAA-exported</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-green">✔</span></td></tr>
					</tbody>
				</table>
				<img src="img/Peek 2020-10-17 23-23.gif" class="float-left"/>
          	<img src="img/Peek 2020-10-18 01-54.gif" class="float-right"/>
			</section>
        <!-- section>
          <h2>Data Formats</h2>
          <img src="img/Peek 2020-10-17 23-22.gif"/>
        </section>
        <section>
          <h2>Data Formats</h2>
          <img src="img/Peek 2020-10-17 23-23.gif"/>
        </section>
        <section>
          <h2>Data Formats</h2>
          <img src="img/Peek 2020-10-18 01-54.gif"/>
        </section -->

			<section>
				<h2>Feature Comparison: User Features</h2>
				<table class="shrink">
					<tbody>
              <th><td>UltraTrace</td><td>GetContours</td><td>WASL</td><td>Palatoglossotron</td><td>AAA</td></th>
              <tr><td>Text annotations</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-green">✔</span></td></tr>
              <tr><td>Adjust audio sync.</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td></tr>
              <tr><td>Tracing completion status</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td></tr>
              <tr><td>Aribtrary zoom and pan</td><td><span class="highlight-green">✔</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td><td><span class="highlight-red">✘</span></td></tr>
            </tbody>
          </table>
				</section>



			<section>
				<h2>Project Management</h2>
				<div class="float-left">
				<ul>
					<li>Automatic matching of US + audio + TextGrid by filename</li>
					<li>Organise your files how you like!</li>
					<ul class="filenav shrinkbox">
						<li class="folder"><b>Participant A1/</b></li>
						<ul class="filenav">
							<li class="folder"><b>wordlist1/</b></li>
							<ul class="filenav monospace">
								<li class="audiofile">2020-10-22_175001.wav</li>
								<li class="tgfile">2020-10-22_175001.TextGrid</li>
								<li class="usfile">2020-10-22_175001.dicom</li>
							</ul>
							<li class="folder"><b>wordlist2/</b></li>
							<ul class="filenav monospace">
								<li class="audiofile">2020-10-22_175235.wav</li>
								<li class="tgfile">2020-10-22_175235.TextGrid</li>
								<li class="usfile">2020-10-22_175235.dicom</li>
							</ul>
						</ul>
					</ul>
					<ul class="filenav shrinkbox">
						<li class="folder"><b>Participant A1/</b></li>
						<ul class="filenav">
							<li class="folder"><b>Audio/</b></li>
							<ul class="filenav monospace">
								<li class="audiofile">2018-09-01_002108.wav</li>
								<li class="audiofile">2020-10-22_175235.wav</li>
							</ul>
							<li class="folder"><b>Ultrasound/</b></li>
							<ul class="filenav monospace">
								<li class="usfile">2018-09-01_002108.dicom</li>
								<li class="usfile">2020-10-22_175235.dicom</li>
							</ul>
							<li class="folder"><b>TextGrids/</b></li>
							<ul class="filenav monospace">
								<li class="tgfile">2018-09-01_002108.TextGrid</li>
								<li class="tgfile">2020-10-22_175235.TextGrid</li>
							</ul>
						</ul>
					</ul>
					<li class="fragment"  data-fragment-index="1">Or don't!  It'll still work ☺</li>
				</ul>

				</div>
				<div class="float-right">
					<img src="img/Peek 2020-10-17 22-42.gif"/>
					<ul>
					</ul>
					<ul class="filenav shrinkbox fragment"  data-fragment-index="1">
						<li class="folder"><b>Participant A1/</b></li>
						<ul class="filenav monospace">
							<li class="audiofile">2018-09-01_002108.wav</li>
							<li class="tgfile">2018-09-01_002108.TextGrid</li>
							<li class="usfile">2018-09-01_002108.dicom</li>
							<li class="audiofile">2020-10-22_175235.wav</li>
							<li class="tgfile">2020-10-22_175235.TextGrid</li>
							<li class="usfile">2020-10-22_175235.dicom</li>
						</ul>
					</ul>
				</div>
			</section>


        <section>
          <h2>Main tracing features</h2>
				<div style="background-color: rgba(0.3, 0.3, 0.3, 0.5); transparency 50%; position: absolute; bottom: 2em; left: -2em; margin: 0 0 0 0; padding: 0.5em 0.5em 0.5em 0; ">
					<ul class="shrink">
						<li>Tracing</li>
						<!-- li>Touch-screen support</li -->
						<li>Adjust points</li>
						<li>Select/drag multiple points</li>
						<li>Deletion of points</li>
						<li>Full undo/redo buffer</li>
						<li>Arbitrary colour of points</li>
						<li>Arbitrary number of landmarks</li>
					</ul>
				</div>
          <img src="img/Peek 2020-10-23 16-16.gif"/>
        </section>
				<section>
					<h2>Touch-screen support</h2>
					<video controls>
						<source data-src="img/VID_20201023_153120968_noaudio.mp4" type="video/mp4" />
					</video>
				</section>

			<section>
				<h2>Copy/pasting of points</h2>
          	<!-- img src="img/Peek 2020-10-18 17-14.gif"/ -->
          	<img src="img/Peek 2020-10-23 16-05.gif"/>
			</section>
        <section>
          <h2>Arbitrary Zoom and Pan</h2>
				<div style="background-color: rgba(0.3, 0.3, 0.3, 0.5); transparency 50%; position: absolute; bottom: 2em; left: -1em; margin: 0 0 0 0; padding: 0.5em 0.5em 0.5em 0; width: 8em;">
					<p>Added portability:</p>
					<ul class="shrink">
			 			<li>coordinates stored in <span class="highlight">percentages</span>, not pixels or physical dimensions</li>
						<li><span class="highlight">Autosaves</span> data</li>
						<li>Stored in <tt class="highlight">json</tt></li>
				</div>
          <img src="img/Peek 2020-10-18 17-29.gif"/>
				</section>
				<section>
					<h2>Text Annotations: Zooming/panning</h2>
					<img src="img/Peek 2020-10-17 22-39.gif"/>
				</section>
				<section>
					<h2>Text Annotations: Navigating by interval</h2>
					<img src="img/Peek 2020-10-17 23-26.gif"/>
				</section>
				<section>
					<h2>Text Annotations: Collapsible Tiers</h2>
					<img src="img/Peek 2020-10-17 22-40.gif"/>
				</section>
				<section>
					<h2>Interactive Spectrogram</h2>
				<div style="background-color: rgba(0.3, 0.3, 0.3, 0.5); transparency 50%; position: absolute; top: 2.5em; right: -2em; margin: 0 0 0 0; padding: 0.5em 0.5em 0.5em 0; width: 9em;">
					<p>Features:</p>
					<ul class="shrink">
			 			<li>Click for nearest frame</li>
			 			<li>Adjust:</li>
						<ul>
							<li>max frequency</li>
							<li>window length</li>
							<li>dynamic range</li>
				</div>

					<img src="img/Peek 2020-10-23 16-23.gif"/>
				</section>

				<section>
					<h2>Synchronised playback of intervals</h2>
					<video controls>
						<source data-src="img/VID_20201023_152937327.mp4" type="video/mp4" />
					</video>
				</section>
				<section>
					<h2>Future work</h2>
					<ul>
						<li>Direct manipulation of interval annotations</li>
						<li>Waveform collapsible as spectrogram</li>
						<li>General UI improvements (perhaps rewrite)</li>
						<li>Automatic tracing algorithm(s: SLURP?  neural approach?)</li>
						<li>Eventually: 3D/4D support</li>
					</ul>
				</section>

				<section data-auto-animate>
					<h2>Discussion</h2>
					<ul>
						<li>Authors of (most) alternatives present—no ill will meant!</li>
						<li>We acknowledge many advantages offered by alternatives</li>
						<li>UltraTrace — an additional available tool, maybe filling a niche?</li>
						<ul>
							<li>limited resources?</li>
							<li>more comfortable with Python?</li>
							<li>care more about our specific set of features?</li>
						</ul>
						<li data-id="fork">Available on GitHub (issues and pull requests wecome)!<br/>
						<a href="http://github.com/SwatPhonLab/UltraTrace">http://github.com/SwatPhonLab/UltraTrace</a></li>
					</ul>
				</section>


				<section>

					<section style="font-family: FreeSerif;" data-auto-animate>
						<h2 class="cyrillic large">Thank you!</h2>
						<b>With generous support from:</b>
						<ul>
							<li>Joel Dean Summer Research Fellowship</li>
							<li>Eugene M. Lang Summer Research Fellowship</li>
							<li>Swarthmore College Faculty Research Support Grants</li>
						</ul>
						<br/>
						<p><b>Also thanks to:</b>
						<ul>
							<li>reviewer for UltraFest</li>
						</ul>
						<ul style="list-style: none !important; text-align: center;">
						<li class="box" data-id="fork">Fork us on GitHub (issues and pull requests wecome)!<br/>
						<code><a href="http://github.com/SwatPhonLab/UltraTrace">http://github.com/SwatPhonLab/UltraTrace</a></code></li>
						</ul>

					</section>

					<section>
						<h2>Appendix slides</h2>
					</section>

					<section>
						<h2>Aligning ultrasound frames with audio</h2>
						<ul>
							<li>Frame positions are stored in a TextGrid point tier</li>
							<li>Generated when ultrasound file first opened</li>
							<li>AAA exported data:</li>
							<ul>
								<li>calculate from framerate</li>
							</ul>
							<li>Reading DICOM:</li>
							<ul>
							  <li>read individual frametimes from native Philips data</li>
							  <li>fallback to calculation based on framerate if not present</li>
							</ul>
						</ul>
					</section>

				</section>

			</div>
		</div>

		<!-- script src="./reveal.js/lib/js/head.min.js"></script -->
		<script src="./reveal.js/dist/reveal.js"></script>
		<script src="./reveal.js/plugin/notes/notes.js"></script>
		<script src="./reveal.js/plugin/markdown/markdown.js"></script>
		<script src="./reveal.js/plugin/highlight/highlight.js"></script>
		<script src="./reveal.js/plugin/zoom/zoom.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				history: true,
				hash: true,

				// The "normal" size of the presentation, aspect ratio will be preserved
				// when the presentation is scaled to fit different resolutions. Can be
				// specified using percentage units.
				width: 1280, //960,
				//height: 720, //700,
				height: 1024,
				//width: 960,
				//height: 700,

				// Factor of the display size that should remain empty around the content
				margin: 0.1,

				// Bounds for smallest/largest possible scale to apply to content
				minScale: 0.2,
				maxScale: 1.0,

				//theme: Reveal.getQueryHash().theme, // available themes are in /css/theme

				transition: 'slide', // none/fade/slide/convex/concave/zoom
				// transition: Reveal.getQueryHash().transition || 'fade', // default/cube/page/concave/zoom/linear/fade/none

				// Shows the slide number using default formatting
				//Reveal.configure({ slideNumber: true });
				//slideNumber: true,

				//if true (default), fragments are generated on separate pages of pdfs
				//pdfSeparateFragments: false,

				// Slide number formatting can be configured using these variables:
				//  "h.v":  horizontal . vertical slide number (default)
				//  "h/v":  horizontal / vertical slide number
				//    "c":  flattened slide number
				//  "c/t":  flattened slide number / total slides
				//Reveal.configure({ slideNumber: 'c' });
				slideNumber: 'c',

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional reveal.js plugins
				// More info https://github.com/hakimel/reveal.js#dependencies
				/***
				dependencies: [
					{ src: './reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: './reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: './reveal.js/plugin/highlight/highlight.js' },
					{ src: './reveal.js/plugin/search/search.js', async: true },
					{ src: './reveal.js/plugin/zoom-js/zoom.js', async: true },
					{ src: './reveal.js/plugin/notes/notes.js', async: true }
				]
				***/
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealZoom, RevealHighlight, RevealNotes ]
			});

		</script>

	</body>
</html>
